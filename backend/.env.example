# ============================================
# Paris Sportif - Backend Environment Variables
# ============================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# Variables marked [REQUIRED] must be set for the app to function.
# Variables marked [OPTIONAL] have sensible defaults or enable optional features.
# ============================================


# ============================================
# Application
# ============================================
# Application environment: development | staging | production
APP_ENV=development

# Enable debug mode (verbose logging, detailed errors)
DEBUG=true

# Log level: DEBUG | INFO | WARNING | ERROR | CRITICAL
LOG_LEVEL=INFO

# Port for the server (used by Gunicorn on Render)
# PORT=8000


# ============================================
# Database [REQUIRED]
# ============================================
# PostgreSQL connection string
# For local Docker: postgresql+asyncpg://paris_sportif:paris_sportif_secret@localhost:5432/paris_sportif
# For Render: automatically set via fromDatabase
DATABASE_URL=postgresql+asyncpg://paris_sportif:paris_sportif_secret@localhost:5432/paris_sportif


# ============================================
# Redis Cache [OPTIONAL]
# ============================================
# Redis connection URL (falls back to in-memory if not set)
# For local Docker: redis://localhost:6379
# For production (Upstash): rediss://default:your_password@your-host.upstash.io:6379
REDIS_URL=redis://localhost:6379


# ============================================
# Qdrant Vector Database [OPTIONAL]
# ============================================
# Qdrant URL for RAG semantic search
# For local Docker: http://localhost:6333
# For Qdrant Cloud: https://your-cluster.region.gcp.cloud.qdrant.io:6333
QDRANT_URL=http://localhost:6333

# Qdrant API key (required for Qdrant Cloud, not needed for local)
QDRANT_API_KEY=


# ============================================
# External APIs [REQUIRED for predictions]
# ============================================
# Football-Data.org API key - Match data, standings, fixtures
# Get a free key at: https://www.football-data.org/client/register
FOOTBALL_DATA_API_KEY=your_football_data_api_key_here

# The Odds API key - Bookmaker odds for value detection [OPTIONAL]
# Free tier: 500 requests/month
# Get a key at: https://the-odds-api.com/
ODDS_API_KEY=


# ============================================
# LLM / AI APIs [REQUIRED for analysis]
# ============================================
# Groq API key - Primary LLM (FREE Llama 3.3 70B)
# Get a free key at: https://console.groq.com/
GROQ_API_KEY=your_groq_api_key_here

# Anthropic Claude API key [OPTIONAL] - Paid alternative LLM
# Get a key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=


# ============================================
# Supabase Authentication [REQUIRED for auth]
# ============================================
# Supabase project URL (Dashboard > Settings > API)
SUPABASE_URL=https://your-project-id.supabase.co

# Supabase JWT secret for token verification (Dashboard > Settings > API > JWT Secret)
SUPABASE_JWT_SECRET=your_supabase_jwt_secret_here

# Supabase service role key for admin operations (Dashboard > Settings > API > service_role)
# WARNING: This key bypasses Row Level Security - never expose to clients
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here


# ============================================
# Stripe Payments [OPTIONAL]
# ============================================
# Stripe secret key (Dashboard > Developers > API keys)
# Use sk_test_... for development, sk_live_... for production
STRIPE_API_KEY=sk_test_your_stripe_secret_key_here

# Stripe webhook signing secret (Dashboard > Developers > Webhooks > Signing secret)
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Stripe Price IDs for subscription plans
STRIPE_PRICE_PREMIUM=price_premium_monthly
STRIPE_PRICE_ELITE=price_elite_monthly


# ============================================
# HuggingFace ML Service [OPTIONAL]
# ============================================
# URL of the HuggingFace Space running ML models (XGBoost, Random Forest)
HF_SPACE_URL=https://jdevot244-paris-sportif.hf.space

# Also used as HF_ML_SERVICE_URL in the ML client
HF_ML_SERVICE_URL=https://jdevot244-paris-sportif.hf.space

# Shared API key between Render and HuggingFace for training data access
HF_TRAINING_API_KEY=your_shared_training_api_key_here


# ============================================
# Monitoring [OPTIONAL]
# ============================================
# Sentry DSN for error monitoring (https://sentry.io/)
SENTRY_DSN=

# Slack webhook URL for data quality alerts [OPTIONAL]
SLACK_WEBHOOK_URL=


# ============================================
# Advanced Tuning [OPTIONAL]
# ============================================
# These have sensible defaults in backend/src/core/config.py.
# Uncomment and change only if you need to override.

# API prefix
# API_V1_PREFIX=/api/v1

# Rate limiting
# RATE_LIMIT_REQUESTS=100
# RATE_LIMIT_WINDOW=60

# Cache TTLs (seconds)
# CACHE_TTL_MATCHES=300
# CACHE_TTL_PREDICTIONS=1800
# CACHE_TTL_TEAMS=86400

# Prediction thresholds
# PREDICTION_MIN_CONFIDENCE=0.5
# PREDICTION_MIN_VALUE=0.05
# DAILY_PICKS_COUNT=5

# LLM tuning
# LLM_MAX_ADJUSTMENT=0.5
# LLM_CACHE_TTL=3600
